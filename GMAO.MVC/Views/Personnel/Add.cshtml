@model GMAO.App.Entities.Personnel_DTO



@using (Html.BeginForm("Add", "Personnel", FormMethod.Post, new { id = "frmCreateUser" }))
{
    @Html.AntiForgeryToken()

    <div class="row">
        <div class="col-xs-6">
            <div class="form-group">
                <label class="col-md-3 control-label">Matricule</label>
                <div class="col-xs-6">
                    <div class="input-icon">
                        <i class="fa fa-star"></i>
                        @Html.EditorFor(model => model.Matricule, new { htmlAttributes = new { @class = "form-control " } })
                        <label id="lblmsg" class="help-block text-danger" />

                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
        <!--/////////////////////-->

    <div class="col-md-12">


        <h3 class="form-section">Parametres</h3>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Nom</label>
                    @Html.EditorFor(model => model.Nom, new { htmlAttributes = new { @class = "form-control " } })
                    <label id="lblmsg1" class="help-block text-danger" />
                </div>
            </div>
            <!--/span-->
            <div class="col-md-6">
                <div class="form-group">
                    <label>Prenom</label>
                    @Html.EditorFor(model => model.Prenom, new { htmlAttributes = new { @class = "form-control " } })
                    <label id="lblmsg2" class="help-block text-danger" />
                </div>
            </div>
            <!--/span-->
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Date de Naissance</label>
                    <input type="text" class="form-control">
                </div>
            </div>
            <!--/span-->
            <div class="col-md-6">
                <div class="form-group">
                    <label>CIN</label>
                    <input type="text" class="form-control">
                </div>
            </div>
            <!--/span-->
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Date de Recrutement</label>
                    <input type="text" class="form-control">
                </div>
            </div>
            <!--/span-->
            <div class="col-md-6">
                <div class="form-group">
                    <label>Civilite</label>
                    <select class="form-control">
                        <option value="">Male</option>
                        <option value="">Female</option>
                    </select>
                </div>
            </div>
            <!--/span-->
        </div>


        <div class="row">
            <div class="col-md-12 ">
                <div class="form-group">
                    <label>Adresse</label>
                    <input type="text" class="form-control">
                </div>
            </div>
        </div>


        <!--/row-->
        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label>Ville</label>
                    <input type="text" class="form-control">
                </div>
            </div>
            <!--/span-->
            <div class="col-md-4">
                <div class="form-group">
                    <label>Code postal</label>
                    <select class="form-control"></select>
                </div>
            </div>
            <!--/span-->
        </div>

        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label>Tel</label>
                    <input type="text" class="form-control">
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label>GSM</label>
                    <input type="text" class="form-control">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            
                <div class="form-group">
                    
                        
                        <label class="col-md-3 control-label">Departement</label>

                    <div class="col-md-6">
                        @Html.DropDownList("depid", Model.dep.Select(x => new SelectListItem()
                  {
                      Value = x.Id.ToString(),
                      Text = x.Designation,

                  }).ToList(), new { @class = "form-control" })

                    </div>

                </div>
            
        </div>

        
        <br /><br />
        <!--/span-->
        <div class="row">
            <div class="col-md-12 ">
                <div class="form-group">
                    <label>Fonction</label>
                    <textarea class="form-control" rows="3"></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 ">
                <div class="form-group">
                    <label>Qualification</label>
                    <textarea class="form-control" rows="3"></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 ">
                <div class="form-group">
                    <label>Observation</label>
                    <textarea class="form-control" rows="3"></textarea>
                </div>
            </div>
        </div>

    </div>

                        <!--!!!!!!!!!!!!!!!-->

    <div class="row">

        <div class="col-md-12">
            <h3 class="form-section">Responsabilite(s)</h3>


            <div class="row">
                <div class="col-md-12">
                    <div class="checkbox-list">
                        <label>
                            <input type="checkbox"> Methodes
                        </label>
                        <label>
                            <input type="checkbox"> Lancement Commande (Achat)
                        </label>
                        <label>
                            <input type="checkbox"> Transfert Stock
                        </label>
                        <label>
                            <input type="checkbox"> Planification
                        </label>
                    </div>
                </div>
                <!--/span-->
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="checkbox-list">
                        <label>
                            <input type="checkbox"> Livraison (Commande)
                        </label>
                        <label>
                            <input type="checkbox"> Entrée Stock
                        </label>
                        <label>
                            <input type="checkbox"> Inventaire
                        </label>
                        <label>
                            <input type="checkbox"> Suivi
                        </label>
                    </div>
                </div>
                <!--/span-->
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="checkbox-list">
                        <label>
                            <input type="checkbox"> Facturation
                        </label>
                        <label>
                            <input type="checkbox"> Sortie Stock
                        </label>

                    </div>
                </div>
                <!--/span-->
            </div>
            <!--/row-->

        </div>
        <!--!!!!!!!!!!!!!!!-->


    </div>
    <div class="form-actions left">
        <button type="button" class="btn default">Annuler</button>
        <input type="button" value="Ajouter" class="btn blue" id="createButton" />
    </div>



                        <!--/////////////////-->


}



@section scripts{
    <script language="JavaScript" type="text/javascript">
        //alert('Input can not be left blank');

        $(document).ready(function () {
            $("#createButton").click(function (event) {

                // alert('Input can not be left blank');

                var form = $("#frmCreateUser");

                event.preventDefault();


                $.ajax(
                       {


                           url: '@Url.Action("Add","Personnel")',
                           data: form.serialize(),
                           type: 'POST',


                           success: function (result) {
                               if (result == true) {
                                   $('#lblmsg').html("");
                                   $('#lblmsg1').html("");
                                   $('#lblmsg2').html("");
                                   document.getElementById("Prenom").style.borderColor = "#00FF80";
                                   document.getElementById("Matricule").style.borderColor = "#00FF80";
                                   document.getElementById("Nom").style.borderColor = "#00FF80";

                                   toastr.success('Fournisseur ajouté', 'hhhhhhh');



                               }
                               else if (result == false) {

                                   if (document.getElementById("Matricule").value == "") {
                                       $('#lblmsg').html("Four vide");
                                       document.getElementById("Matricule").focus();
                                       document.getElementById("Matricule").style.borderColor = "red";
                                   }
                                   if (document.getElementById("Nom").value == "") {
                                       $('#lblmsg1').html("nom vide");
                                       document.getElementById("Nom").focus();
                                       document.getElementById("Nom").style.borderColor = "#F78181";

                                   }

                                   if (document.getElementById("Prenom").value == "") {
                                       $('#lblmsg2').html("nom vide");
                                       document.getElementById("Prenom").focus();
                                       document.getElementById("Prenom").style.borderColor = "#F78181";

                                   }

                                   toastr.error('ERREUR');
                               }



                           },
                           error: function (result) {
                               /*  if (document.getElementById("Code_Fournisseur").value =="") {
                                     $('#lblmsg').html("Four vide");
                                     document.getElementById("Code_Fournisseur").focus();
                                     document.getElementById("Code_Fournisseur").style.borderColor = "red";
                                 }
                                 if (document.getElementById("Nom").value =="") {
                                     $('#lblmsg1').html("nom vide");
                                     document.getElementById("Nom").focus();
                                     document.getElementById("Nom").style.borderColor = "#F78181";

                                 }*/

                               toastr.error('ERREUR');
                           }
                       });
            });
        });
    </script>
}






